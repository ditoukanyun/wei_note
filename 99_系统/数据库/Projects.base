filters:
  and:
    - file.ext == "md"
    - or:
        - type == "inbox"
        - type == "project"
    - not:
        - file.inFolder("99_Á≥ªÁªü/Ê®°Êùø")
formulas:
  display_title: file.asLink(if(title != "", title, file.basename.replace("_", " ")))
  due_relative: if(due != "", date(due).relative(), "")
  is_overdue: if(due != "", date(due) < today() && status != "done" && status != "processed", false)
  urgency_icon: if(formula.is_overdue, "üî¥", if(due != "" && date(due) <= today() + "3d", "üü†", if(due != "" && date(due) <= today() + "7d", "üü°", "üü¢")))
  priority_label: if(priority == "P0", "üî• Á¥ßÊÄ•", if(priority == "P1", "‚ö° È´ò", if(priority == "P2", "üìå ‰∏≠", if(priority == "P3", "üìã ‰Ωé", "üí≠ ‰ª•Âêé"))))
  area_display: area.replace("[[", "").replace("]]", "")
properties:
  formula.urgency_icon:
    displayName: Á¥ßÊÄ•Á®ãÂ∫¶
  formula.display_title:
    displayName: Ê†áÈ¢ò
  formula.priority_label:
    displayName: ‰ºòÂÖàÁ∫ß
  formula.due_relative:
    displayName: Êà™Ê≠¢Êó•Êúü
  status:
    displayName: Áä∂ÊÄÅ
  formula.area_display:
    displayName: È¢ÜÂüü
  topic:
    displayName: ‰∏ªÈ¢ò
views:
  - type: table
    name: üìÅ È°πÁõÆ
    filters:
      and:
        - type == "project"
        - status == "active"
    groupBy:
      property: priority
      direction: ASC
    order:
      - formula.urgency_icon
      - formula.display_title
      - formula.priority_label
      - formula.due_relative
      - formula.area_display
    sort:
      - property: formula.urgency_icon
        direction: DESC
      - property: formula.display_title
        direction: ASC
    columnSize:
      formula.urgency_icon: 121
      formula.display_title: 238
      formula.priority_label: 91
      formula.due_relative: 90
  - type: table
    name: üì• Êî∂‰ª∂ÁÆ±
    filters:
      and:
        - type == "inbox"
        - status != "processed"
    groupBy:
      property: priority
      direction: ASC
    order:
      - formula.urgency_icon
      - formula.display_title
      - formula.priority_label
      - formula.due_relative
      - topic
    columnSize:
      formula.display_title: 202
